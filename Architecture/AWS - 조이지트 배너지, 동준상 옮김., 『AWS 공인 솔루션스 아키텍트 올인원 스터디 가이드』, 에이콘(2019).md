# AWS

\* 학습서는 전반적으로 학습하되, 본 문서는 개념위주의 내용만 기재한다. 

---

# According to
조이지트 배너지, 동준상 옮김., 『AWS 공인 솔루션스 아키텍트 올인원 스터디 가이드』, 에이콘(2019)

# 1. 클라우드 컴퓨팅과 AWS의 개요
- 클라우드 컴퓨팅: "어디서나 접속 가능하고, 편리하며, 온디맨드 방식으로 신속하고 간련하게 검증 및 배포된 공유 컴퓨팅 자원에 접근할 수 있는 컴퓨팅 기술"

  > \* 온디멘드 방식: 사용자가 필요할 때 즉시 자원을 요청하고, 그만큼만 비용을 지불하는 방식의 클라우드 컴퓨팅 모델.


- 클라우드 컴퓨팅의 3대 모델
  - IaaS(인프라): 컴퓨팅, 네트워킹, 스토리지, 데이터 센터용 공간 등 클라우드 IT 환경 전반을 제공하여, 클라우드에 나만의 데이터 센터를 구축하는 개념모델
  - PaaS(플랫폼): 클라우드 컴퓨팅 기업에 전반적인 IT 인프라 관리 업무를 전담하고, 사용자는 오직 비즈니스 니즈에만 집중할 수 있게 하는 모델 
  - SaaS(서비스): 인터넷을 통해 애플리케이션을 제공하기만 하면 되는 모델


- 클라우드 컴퓨팅의 3대 배포 모델
  - 올 인 클라우드(=퍼블릭 클라우드): AWS와 같은 클라우드 서비스 제공자를 통해 애플리케이션을 배포하는 방식
  - 하이브리드 클라우드: 애플리케이션 중 일부는 퍼블릭 클라우드에서, 나머지는 온프레미스 환경에서 제공하는 방식
  - 온프레미스(=프라이빗 클라우드): 가상화 또는 자원 관리도구를 이용해 자체 데이터 센터에 애플리케이션을 배포하는 경우.

- AWS 리전과 가용역역
  - 리전: AWS의 클라우드 서비스용 데이터 센터 클러스터가 위치한 물리적 장소
  - 가용영역: 각 리전에는 AZ라 부르는 가용영역(Availability Zones)이 존재. 하나의 AZ는 한 개에서 여섯 개의 데이터 센터로 구성되며 전력공급망과 네트워크망이 중첩적으로 구현된다.
  - 엣지 로케이션: CDN(콘텐츠 배포 네트워크)으로 사용되며, 인근 사용자에게 고성능의 서비스를 제공
    > \* 제품군: Amazon CloudFront, Amazon Route 53
  - POP(Points Of Presence): ????


> 이하 주요 제품군에 대한 간략한 설명이 있다.

# 2. AWS 스토리지
AWS 스토리지는 크게 3가지로 구분할 수 있다.

- 객체 스토리지
  - 객체란 문서, 이미지, 비디오 등 비교적 단순한 구조에 메타데이터를 포함하고 있는 데이터 조각.
  - 인터넷으로 연결된 API를 통해 데이터를 애플리케이션에 제공

    > \* 제품군: Amazone S3

- 블록 스토리지
  - 서버 인스턴스에 디스크 볼륨 형태로 제공되는 데이터를 의미

    > \* 제품군: EBS(Elastic Block Store)

- 파일 스토리지
  - 서버 인스턴스에 파일 시스템 인터페이스 또는 파일 시스템 시멘틱스 방식으로 제공되는 데이터를 의미

## 제품군
### S3(아마존 심플 스토리지 서비스)
객체 데이터를 버킷(객체를 저장하는 컨테이너 역할)에 담기 위한 클라우드 스토리지

- 활용방법
  - 데이터 백업
  - 테이프 저장 장치 대체
  - 정적 웹 사이트 또는 애플리케이션 호스팅
  - 재난 복구
  - 콘텐츠 배포
  - 데이터 레이크
  - 프라이빗 저장소

### Glacier(아마존 클레이셔)
데이터 아카이브 및 장기보관 백업을 위한 저비용 클라우드 스토리지

- 활용방법
  - 자기 테이프 스토리지 대체
  - 헬스케어/생명과학/과학 데이터 저장
  - 미디어 자산 아카이브/디지털 보관
  - 규제 정책에 따른 아카이브/장기 백업 보관

- 용어설명
  - 데이터 업로드: 데이터 아카이브에 저장한다는 의미. 하나의 파일을 업로드 한다면 해당 파일에 대한 아카이브가 생성되는데, 이는 비효율적임으로 TAR, ZIP 등의 도구를 이용해 아카이브에 포함시킬 데이터를 압축한 뒤 클레이셔에 업로드한다.
  - 볼트: "금고" 또는 "사물함" 이라는 뜻으로, 여러개의 아카이브로 하나의 그룹을 만든 뒤, 이를 하나의 볼트에 넣어둔다. 즉, 볼트는 아카이브용 컨테이너.
  - 볼트 락: 볼트 잠금 정책을 이용해서 좀 더 쉽게 볼트를 배포하고 규제 정책을 반영할 수 있도록 한다.
  - 볼트 인벤토리: 글레셔의 아카이브 인덱스는 24시간 마다 갱신이 된다.
  - 글레이셔 잡: 아카이브 또는 볼트 인벤토리에서 데이터를 인출하기 위한 용도.

### EBS(Elastic Block Store)
- 블록 스토리지 서비스 타입
    - 아마존 EC2 인스턴스 스토어
    - 아마존 EBS SSD-기반볼륨
      - SSD, gp2: 다양한 수준의 트랜잭션 데이터를 처리하기 위한 가성비 좋은 성능
      - IOPS SSD, io1(Input/output Operations Per Second): 전송지연에 민감한 트랜잭션 워크로드를 처리하기 위한 고성능
    - 아마존 EBS HDD-기반볼륨
      - HDD, sc1(=콜드 HDD): 중요성이 높지 않은 콜드 데이터 워크로드에 적합(스냅샷 등 작업에 적합)
      - HDD, st1: 처리성능이 더욱 종요한 성능지표인 워크로드에 적합(데이터 웨어하우스, ETL, 로그 프로세싱, 맵리듀스 등 작업에 적합)

- 특징
  - 생명주기: EC2 인스턴스의 생명주기와 독립적인 생명주기를 갖는다.
  - 지원OS: Anyting
  - 고가용성 및 고신뢰성
  - 암호화 지원
  - 다양한 저장 용량
  - 사용 편의성
  - 실패 대응성

### EFS(아마존 일래스틱 파일 시스템)
EC2 인스턴스를 위한 파일 시스템 인터페이스 및 파일 시스템 시맨틱 환경을 제공

### AWS 스토리지 게이트웨이
온프레미스 스토리지와 AWS 를 통합하기 위한 게이트웨이

- 파일 게이트웨이
- 볼륨 게이트웨이
- 테이프 게이트웨이

### AWS 스노우볼 /  AWS 스노우볼 엣지
페타바이트 규모의 데이터 이전을 위함 임포트/익스포트 도구.

### AWS 스노우모바일
엑사바이트 규모의 데이터 이전을 위한 임포트/익스포트 도구.

# 3. AWS 가상 보안 클라우드 - VPC(Virtual Private Cloud)
- VPC 서비스 타입
  - Public
  - Private

- 활용방법
  - VPN, Direct Connect 등과 결합하여 기존 데이터 센터를 클라우드로 확장할 수 있다.

## 아마존 VPC 피어링
다수의 VPC를 생성해야 하는 경우, VPC간 연결을 하고, 프라이빗 IPv4 또는 IPv6 주소를 통해 서로의 트래픽을 교환하기 위한 방법을 제공

## 아마존 VPC 엔드포인트
AWS 서비스는 VPC 외부에서 실행되는 것들이 많다.(대표적으로 S3)
S3와 VPC를 연결하려면 인터넷과 데이터센터 전용 네트워크 두 개를 함께 연결해야 한다.
VPC 엔드포인트는 이런 목적으로 만들어 졌으며, S3와 VPC를 프라이빗하게 연결한다.
연결 시, 반드시 S3와 DynamoDB 연결만 가능하며 추후 다른 서비스도 연결될 것으로 기대한다.

# 4. 아마존 EC2(Elastic Compute Cloud) 개요
- 가격정책
  - 온디맨드 인스턴스
  - 예약 인스턴스
    - 온디맨드 인스턴스에 비해 최대 75%의 요금 할인을 받을 수 있다.
    - 사용자가 자신의 워크로드에 얼마만큼의 리소스가 얼마나 오래 사용되는지 인지하고 있다면, 비용을 최소화 할 수 있다.
  - 스팟 인스턴스
    - 온디맨드 인스턴스에 비해 최대 90%의 요금 할인을 받을 수 있다.
    - AWS는 클라우드 업계 최대의 컴퓨팅 자원을 보유하고 있으나, 필연적으로 미처 활용되지 못하는 컴퓨팅 자원이 존재한다. 이렇게 일시적으로 여유가 생긴 컴퓨팅 자원을 사용자에게 경매 입찰 방식으로 제공한다.

## AMI
AWS 계정에서 어떤 인스턴스를 론칭할 수 있는지를 정의한다.

- 론칭 승인정보
  - 퍼블릭: 소유자가 모든 AWS 계정 사용자에게 론칭 승인을 부여
  - 명시적: 소유자가 특정 AWS 계정 사용자에게 론칭 승인을 부여
  - 암묵적: 소유자가 암묵적으로 AMI을 통한 론칭 승인을 부여

## ECS(Elastic Container Service)
AWS에서 제공하는 K8S라고 생각하면 된다.

# 5. AWS의 신분 및 접속 관리오 보안
보통 AWS 계정에 인증(Authorization)을 위한 도구라고 보면 된다.
사용자를 그룹으로 묶고, 롤을 부여하는 방식.

# 6. 오토 스케일링
미리 정해놓은 규칙에 따라 워크로드를 자동으로 확대 또는 축소할 수 있는 기술

## 일래스틱 로드 밸런싱(ELB: Elastic Load Balancing)
완전 관리형 서비스로, 애플리케잇녀으로 유입되는 트래픽을 EC2인스턴스에서 호스팅되고 있는 다수의 애플리케이션, 마이크로서비스, 컨테이너 등에 자동으로 분산시킨다.

- LB 서비스 타입
  - 네트워크 로드 밸런서
  - 애플리케이션 로드 밸런서
  - 클래식 로드 밸런서

# 7. AWS의 애플리케이션 배포 및 모니터링 서비스
## AWS Lambda
AWS에서 제공하는 Serverless Computing Service 이다.

## AWS API Gateway

## AWS Kinesis Data Streams
특화된 분석 목적에 맞춰 스트리밍 데이터에 대한 실시간 분석 서비스를 제공하며 웹사이트 클릭스트림, 신용카드 사용 등 금융거래, 소셜미디어 피드, IT로그, 위치 추적 이벤트 등 수십만 가지의 데이터 소스로부터 유입되는 테라바이트 급 데이터를 저장 및 처리할 수 있다.

## Amazon CloudFront
Global CDN(Content Delivery Network) 서비스로서 저지연성과 고속전송 속성을 지닌 콘텐츠 배포 기능을 제공하며, 콘텐츠 사용자와 가까운 지역(엣지로케이션)에 네트워크망을 구축하고 지역별 엣지 캐시를 통해 사용자 경험 수준을 높여준다.

## Amazone Route 53
Amazone의 관리형 DNS(Domain Name Service) 서비스이다.

## AWS Web Application Firewall

## Amazone SQS(Simple Queue Service)
Serverless 및 Microservice Architecture 에서 서버 to 서버 간 비동기적인 소통을 위한 양식이며, 메시지는 처리 및 삭제되기 전까지 큐(대기열)에 저장상태를 유지한다.

- SQS Queue 서비스 타입
  - 스탠다드 큐: 기본적으로 메시지의 순서를 보장하지만, 가끔은 순서와 다른 메시지가 전송되는 경우가 있기도 하다.
  - FIFO 큐: 전형적인 Queue

## Amazone SNS(Simple Notification Service)

## Amazone Step Functions
시각화된 워크플로를 통해 분산 애플리케이션 및 마이크로서비스 컴포넌트의 관리를 돕는 완전 관리형 서비스.
AWS 서비스를 Spring Batch의 Step과 같은 처리순서로 운영할 수 있도록 한다.

## AWS Elastic Beanstalk
AWS에 애플리케이션을 쉽고 간편하게 배포, 모니터링, 확장할 수 있다.

## AWS OpsWorks

## Amazone Cognito

## Amazone Elastic MapReduce
EC2 및 S3와 같은 탄력적인 인프라를 활용해 다수의 EC2 인스턴스를 분산 컴퓨팅 환경으로 구성한 관리형 Hadoop Framework 서비스이다.

## AWS CloudFormation
=Terraform

## Amazon CloudWatch
=kibana

## AWS CloudTrail
사용자의 계쩡에 대한 AWS API의 호출 기록 및 로그 관리를 위한 서비스
API 호출을 한 계정 소유자, API 호출 시간, API 호출의 내용, API 호출을 통해 접근한 리소스, API 호출의 발신지와 수신지 등에 대한 정보를 제공.

## AWS Config
리소스 인벤토리, 환경설정에 대한 시간 순 기록, 보안 및 거버넌스를 위한 환경설정 변경 노티피케이션 등의 기능을 제공하는 완전 관리형 서비스

## Amazon VPC Flow Logs
VPC, VPC 서브넷 또는 ENI 접속과 관련된 모든 네트워크 트래픽은 CloudWatch logs에 기록된다.

## AWS Trusted Advisor

## AWS Organizations

# 8. AWS 데이터베이스 서비스

> 이것은.. 너무 DB 관리자에 영역으로.. 패쓰..

# 9. AWS Well-Architected Framework와 베스트 프랙티스
## 클라우드 환경에서의 보안 유지 방법
하.. 보통 IAM을 사용하고, 모니터링으로 CloudWatchf를 사용하란 뜻..

## 신뢰할 수 있는 클라우드 아키텍처 구현방법
하.. 보통 메모리를 많이 쓰면 메모리 집약형 EC2를 쓰고, 처리 속도가 중요하면 EC2 + PIOPS 볼륨 조합을 추천..
뭐 이렇듯 실무에 사용할만한 팁이기 보단.. 그저 AWS 서비스 홍보용 글 같다..

## 클라우드 아키텍처의 성능을 높이는 방법
하나의 EC2에 모든걸 넣치말라는 내용을 시작으로.. 결국 EC2를 활용하여 Microservice Architecture를 구현하라는 글 같다..
이런것은 Microservice 서적을 참고하는 것이 더 낫겠다.

> ref> [MicroService, 『마이크로서비스 인 액션』](MicroService%20-%20%EB%AA%A8%EA%B1%B4%20%EB%B8%8C%EB%A3%A8%EC%8A%A4%2C%20%ED%8C%8C%EC%9A%B8%EB%A1%9C%20%ED%8E%98%EB%A0%88%EC%9D%B4%EB%9D%BC%2C%20%EA%B9%80%EB%AF%BC%EC%84%9D%20%EC%98%AD%EA%B9%80.%2C%20%E3%80%8E%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%9D%B8%20%EC%95%A1%EC%85%98%E3%80%8F%2C%20%EC%9C%84%ED%82%A4%EB%B6%81%EC%8A%A4%282019%29.md)

## 클라우드 아키텍처의 비용효율성을 높이는 방법

## 클라우드 아키텍처의 운영 성과를 높이는 방법
