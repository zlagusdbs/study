# MicroService

---

# According to
모건 브루스, 파울로 페레이라, 김민석 옭김., 『마이크로서비스 인 액션』, 위키북스(2019)

# 1. 마이크로서비스 설계하고 실행하기
## 1.1. 마이크로서비스 애플리케이션이란 무엇인가?
- 자율적인 서비스의 집합
  - 각각의 서비스는 한 가지 일을 하고, 그 서비스들이 협업해 좀 더 복잡한 작업을 수행
  - 즉, 높은 응집력과 느슨한 결합력을 강조

    - 응집력: 특정 모듈의 내부 구성요소의 결속 정도
    - 결합력: 특정 모듈의 한 요소가 다른 모듈의 내부 동작을 아는 정도
      - 로버트 마틴의 단일 책임 원칙(같은 이유로 변경되는 것을 함께 모아라. 다른 이유로 변경되는 것은 분리하라)과 같다.

### 1.1.1. 분해를 통한 확장
- 애보트, 피셔., 『The Art of Scalability, Addison-Wesley Professional(2015)』에서 확장 큐브를 사용해 확장의 3가지 차원을 정의

- X축: 복제를 위한 확장
- Y축: 다른 것을 분리한 확장
- Z축: 비슷한 것을 분리해 확장(ex> 샤딩과 같은 수평적 데이터 파티셔닝)
  - 모놀리식 애플리케이션과 마이크로 서비스 모두에 적용가능

### 1.1.2. 핵심원칙
- 자율성: 다른 서비스와 독립적으로 변경되고 운영
- 회복성: 마이크로 서비스를 독립적으로 배포하면 애플리케이션 또는 인프라스트럭처의 장애는 시스템의 일부에만 영향을 미치도록 한다.
- 투명성: 언제 장애가 발생했는지 아는 것. 이를 위해 매트릭과 로그, 그리고 요청 추적을 생성해야 한다.
- 자동화: 정확한 배포와 운영을 보장하도록 자동화를 적용해야 한다.
- 동기화: 서비스가 비즈니스 컨셉과 일치하도록 팀도 같은 생각으로 동기화 되어야 한다.

## 1.2. 무엇이 마이크로서비스를 어렵게 만드는가 ?
### 1.2.1. 설계상의 어려움
- 마이크로서비스의 범위를 정하는 것은 도메인 지식을 요구한다.
- 서비스 간 계약 유지하기
  - 완정성: 상화작용의 완전한 범위를 정의
  - 충분성: 필요 이상의 정보를 제거해 메시지 소비자가 적절한 범위에서 메시지를 구성할 수 있게 한다
  - 예측성: 모든 구현의 실제 행동을 정확한게 반영
- 마이크로서비스 애플리케이션은 여러팀이 설계
- 마이크로서비스 애플리케잇녀은 분산 시스템

### 1.2.2. 운영상의 도전 과제
- 관측 가능성은 달성하기 어렵다
- 서비스가 많아지면 장애 지점도 증가한다

### 1.3. 마이크로서비스 개발 라이프사이클
- 마이크로서비스 설계하기
- 모놀리식 애플리케이션으로 시작할 것인가?
- 서비스 범위 정하기
- 커뮤니케이션
  - 서비스간 커뮤니케이션을 뜻 하며, 동기식과 비동기식이 있다. 
- 회복성

### 1.3.2. 마이크로서비스 배포하기
- 마이크로서비스 배포 산출물 표준화
- 지속 전달 파이프라인 구현하기

### 1.3.3 마이크로서비스 관찰하기
- 잠재적으로 깨지기 쉬운 구현을 식별하기 리팩터하기
- 수백 개의 서비스에 걸친 동작 이해하기

### 1.4. 운영에 대해 인지하고 책임지는 엔지니어링 문화

# 2. 마이크로서비스 적용사례

# 3. 마이크로서비스 애플리케이션의 아키텍처
Micro Service Architecture
![Micro Service Architecture](../Resource/Infra%2C%20Micro%20Service%2C%20MicroService%20Architecture.png)
